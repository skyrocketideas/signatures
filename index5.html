<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Email Signature Generator</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 40px;
        background-color: #f9f9f9;
      }

      h2 {
        margin-bottom: 10px;
      }

      label {
        display: block;
        margin-top: 10px;
      }

      input {
        width: 100%;
        padding: 6px;
        margin-top: 4px;
        box-sizing: border-box;
      }

      #signature {
        margin-top: 30px;
        padding: 15px;
        border: 1px solid #ccc;
        background: #fff;
      }

      .signature-preview {
        font-size: 14px;
        line-height: 1.4;
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .logo {
        max-width: 100px;
        max-height: 100px;
      }

      button {
        margin-top: 15px;
        padding: 10px 15px;
        background-color: #0073e6;
        color: white;
        border: none;
        cursor: pointer;
      }

      button:hover {
        background-color: #005bb5;
      }
    </style>
  </head>
  <body>
    <h2>Email Signature Generator</h2>

    <label for="name">Full Name:</label>
    <input type="text" id="name" oninput="generateSignature()" />

    <label for="title">Job Title:</label>
    <input type="text" id="title" oninput="generateSignature()" />

    <label for="phone">Phone:</label>
    <input type="text" id="phone" oninput="generateSignature()" />

    <label for="email">Email:</label>
    <input type="text" id="email" oninput="generateSignature()" />

    <label for="website">Website:</label>
    <input type="text" id="website" oninput="generateSignature()" />

    <label for="logoUpload">Upload Logo:</label>
    <input
      type="file"
      id="logoUpload"
      accept="image/*"
      onchange="handleLogoUpload()"
    />

    <div id="signature" class="signature-preview"></div>
    <button onclick="copySignature()">Copy to Clipboard</button>

    <script>
      let logoDataURL = "";

      function handleLogoUpload() {
        const file = document.getElementById("logoUpload").files[0];
        const reader = new FileReader();
        reader.onload = function (e) {
          logoDataURL = e.target.result;
          generateSignature();
        };
        if (file) {
          reader.readAsDataURL(file);
        }
      }

      function generateSignature() {
        const name = document.getElementById("name").value;
        const title = document.getElementById("title").value;
        const phone = document.getElementById("phone").value;
        const email = document.getElementById("email").value;
        const website = document.getElementById("website").value;

        let logoHTML = "";
        if (logoDataURL) {
          logoHTML = `<img src="${logoDataURL}" alt="Logo" style="max-width:100px; max-height:100px; display:inline-block;">`;
        }

        const signatureHTML = `
    <table cellpadding="0" cellspacing="0" style="font-family: Arial, sans-serif; font-size: 14px; line-height: 1.4;">
      <tr>
        ${
          logoHTML
            ? `<td style="padding-right: 15px; vertical-align: top;">${logoHTML}</td>`
            : ""
        }
        <td style="vertical-align: top;">
          <strong>${name}</strong><br>
          <em>${title}</em><br>
          Phone: ${phone}<br>
          Email: <a href="mailto:${email}" style="color:#0073e6; text-decoration:none;">${email}</a><br>
          Website: <a href="${website}" target="_blank" style="color:#0073e6; text-decoration:none;">${website}</a>
        </td>
      </tr>
    </table>
  `;

        document.getElementById("signature").innerHTML = signatureHTML.trim();
      }

      function copySignature() {
        const container = document.createElement("div");
        container.innerHTML = document.getElementById("signature").innerHTML;

        // Inline styles for copying correctly into email clients
        const images = container.querySelectorAll("img");
        images.forEach((img) => {
          img.setAttribute(
            "style",
            "max-width:100px; max-height:100px; display:inline-block;"
          );
        });

        const links = container.querySelectorAll("a");
        links.forEach((link) => {
          link.setAttribute("style", "color:#0073e6; text-decoration:none;");
        });

        const temp = document.createElement("textarea");
        temp.value = container.innerHTML;
        document.body.appendChild(temp);
        temp.select();
        document.execCommand("copy");
        document.body.removeChild(temp);
        alert("Signature copied to clipboard!");
      }
    </script>
  </body>
</html>
